package archenoah.web.normal.main.Menuepunkte.Individuelle.Stammdaten.Benutzerverwaltung;

import java.io.UnsupportedEncodingException;
import java.security.NoSuchAlgorithmException;
import java.util.HashMap;
import java.util.Map;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

import archenoah.config.CMS_Config_Std;
import archenoah.lib.tool.comunication.dbclass.DBClass;
import archenoah.lib.tool.comunication.email.Mailer;
import archenoah.lib.tool.comunication.email.Mailer.MAIL_TYPE;
import archenoah.lib.tool.encryption.sha1.Crypt_SHA1;
import archenoah.lib.tool.java_plugin.randomgenerator.classes.RandomStringGenerator;
import archenoah.lib.tool.templating.TemplatingRenderer;
import archenoah.lib.vaadin.Components.Combo.nativecombo;
import archenoah.lib.vaadin.Components.Window_Tab_Generierer.Build_Tab_Menue_Item;
import archenoah.lib.vaadin.Components.Window_Tab_Generierer.Build_Window_Button;
import archenoah.lib.vaadin.Forms_Builder.Form_Bind;
import archenoah.lib.vaadin.Language.i18n.I18nGlobalNotifiers;
import archenoah.lib.vaadin.Language.i18n.I18nManager;
import archenoah.lib.vaadin.MenuBerechtigung.Rechteholen;
import archenoah.lib.vaadin.valchecker.val_checker4;
import archenoah.web.normal.main.Menuepunkte.Individuelle.Stammdaten.Benutzerverwaltung.Validatoren.Custom_Benutzerform_psw_ändern;
import archenoah.web.normal.main.Menuepunkte.Individuelle.Stammdaten.Benutzerverwaltung.Validatoren.Custom_Validator_Username;
import archenoah.web.normal.main.Menuepunkte.Individuelle.Stammdaten.Benutzerverwaltung.Validatoren.Custom_Validator_tel;

import com.vaadin.annotations.AutoGenerated;
import com.vaadin.data.Container;
import com.vaadin.data.Property.ValueChangeEvent;
import com.vaadin.data.Property.ValueChangeListener;
import com.vaadin.data.validator.EmailValidator;
import com.vaadin.event.FieldEvents.TextChangeEvent;
import com.vaadin.event.FieldEvents.TextChangeListener;
import com.vaadin.server.ThemeResource;
import com.vaadin.ui.Alignment;
import com.vaadin.ui.Button;
import com.vaadin.ui.Button.ClickEvent;
import com.vaadin.ui.Button.ClickListener;
import com.vaadin.ui.CheckBox;
import com.vaadin.ui.CustomComponent;
import com.vaadin.ui.HorizontalLayout;
import com.vaadin.ui.MenuBar.MenuItem;
import com.vaadin.ui.NativeSelect;
import com.vaadin.ui.Panel;
import com.vaadin.ui.PasswordField;
import com.vaadin.ui.TabSheet;
import com.vaadin.ui.TextField;
import com.vaadin.ui.UI;
import com.vaadin.ui.VerticalLayout;
import com.vaadin.ui.Window;

import de.steinwedel.messagebox.ButtonId;
import de.steinwedel.messagebox.Icon;
import de.steinwedel.messagebox.MessageBox;

public class form_benutzer_insert_edit extends CustomComponent {

	/*- VaadinEditorProperties={"grid":"RegularGrid,20","showGrid":true,"snapToGrid":true,"snapToObject":true,"movingGuides":false,"snappingDistance":10} */
	@AutoGenerated
	private VerticalLayout mainLayout;

	@AutoGenerated
	private Button btn_save;

	@AutoGenerated
	private HorizontalLayout horizontalLayout_1;

	@AutoGenerated
	private VerticalLayout verticalLayout_4;

	@AutoGenerated
	private Panel pan_stamm_daten;

	@AutoGenerated
	private VerticalLayout verticalLayout_6;

	@AutoGenerated
	private TextField txt_email;

	@AutoGenerated
	private TextField txt_tel;

	@AutoGenerated
	private TextField txt_vorname;

	@AutoGenerated
	private TextField txt_name;

	@AutoGenerated
	private NativeSelect ns_anrede;

	@AutoGenerated
	private VerticalLayout verticalLayout_3;

	@AutoGenerated
	private Panel pann_acc_daten;

	@AutoGenerated
	private VerticalLayout verticalLayout_5;

	@AutoGenerated
	private CheckBox cb_pass_aendern;

	@AutoGenerated
	private CheckBox cb_aktiv;

	@AutoGenerated
	private CheckBox ck_psw_send_per_email;

	@AutoGenerated
	private CheckBox ck_psw_gen;

	@AutoGenerated
	private PasswordField psw_pass_2;

	@AutoGenerated
	private PasswordField psw_pass_1;

	@AutoGenerated
	private TextField txt_username;

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	/**
	 * The constructor should first build the main layout, set the
	 * composition root and then do any custom initialization.
	 *
	 * The constructor will not be automatically regenerated by the
	 * visual editor.
	 */
	
	/****************--> Allgemein <---********************/
	
	private static org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(form_benutzer_insert_edit.class);
	
	// Allgemein
	private CMS_Config_Std std;
	private String Exportname;
	// Datenbank
	private Map<Object, String> DBMap;
	private Map <Object, String> ValidateMap;
	private DBClass db;
	private Form_Bind fb;
	private String Form_ID = "";
	// Berrechtigung
	private int ACC_ID;
	private int Lesen;
	private int Schreiben;
	private int Erstellen;
	private int Edit;
	private int Löschen;
	
	public String G_ID;
	private MenuItem Temp_Menü = null;
	
	private Button Temp_Btn = null;
	/******************************************************/
	/****************--> Tabsheetvars <---*****************/
	private TabSheet tab = null;
	
	
	/******************************************************/
	/****************--> Windowvars <---*******************/
	private Window win = null;
	/******************************************************/
	/*******************--> Custom <---********************/
	/******************************************************/
	
	
	
	
	/************----->Einstellungen<--********************/
//	private String LNG_FRM_ID ="19"; 
	private String BER_MEN_ID =""; 
	private String Windows_Height ="500px"; 
	private String Windows_Width  ="580px";

    private I18nManager i18n; 
	/******************************************************/
	

	public form_benutzer_insert_edit(MenuItem Arg_Menü,String Arg_Form_ID) {
		Temp_Menü = Arg_Menü;
		Form_ID = Arg_Form_ID;
		
		
		

		// TODO add user code here
	}
	public form_benutzer_insert_edit(Button Arg_btn,String Arg_Form_ID) {
		
		Temp_Btn = Arg_btn;
		Form_ID = Arg_Form_ID;
		
		

		// TODO add user code here
	}
	/*****************************---> Feste Funtionen<---**************************************/
	
	/*********INIT-Window************/
	public void Init_Class_Window()
	{
		if(Windows_Height.equals("")== true || Windows_Width.equals("")== true)
		{
			System.out.println("Form Einstellung Fehlt: !!!");
			return;
		}
		
		Standard_Init();

		if(Temp_Menü != null)
		{
			String Recourcename = Temp_Menü.getIcon().toString();
			Recourcename =Recourcename.substring (0, Recourcename.length()-12) +"white-16.png";		
			
			Exportname = Temp_Menü.getText();
			Build_Window_Button bwb = new Build_Window_Button(Temp_Menü.getText(),mainLayout,Windows_Height,Windows_Width,new ThemeResource(Recourcename));
			win = bwb.ReturnWindow();	
		}
		if(Temp_Btn != null)
		{
			Exportname = Temp_Btn.getCaption();
			Build_Window_Button bwb = new Build_Window_Button(Temp_Btn.getCaption(),mainLayout,Windows_Height,Windows_Width,Temp_Btn.getIcon());
			win = bwb.ReturnWindow();	
		}
		
	}
	
	/*********INIT-Tray************/
	public void Init_Class_Tab(TabSheet Arg_tab)
	{
		
		Standard_Init();
		tab = Arg_tab;
		if(Temp_Menü != null)
		{
			Exportname = Temp_Menü.getText();
			Build_Tab_Menue_Item bt = new Build_Tab_Menue_Item(Arg_tab, Temp_Menü.getText(), mainLayout, Temp_Menü.getIcon());
		}
		if(Temp_Btn != null)
		{
			Exportname = Temp_Btn.getCaption();
			Build_Tab_Menue_Item bt = new Build_Tab_Menue_Item(Arg_tab, Temp_Btn.getCaption(), mainLayout, Temp_Btn.getIcon());
		}
		
	}
	
	public Window getWindow() {
	    return win;
	}
	
	/*********Init-Standard************/
	private void Standard_Init()
	{
		buildMainLayout();
		i18n = new I18nManager(this);
		std = CMS_Config_Std.getInstance();
		fb = new Form_Bind();	
	
		Set_DB_Map();
	
		Set_Validierer();
		Set_Validate_Map();
		
		/********** Custom Fill Function *******************/
		Anrede_holen();
		
		
		/***************************************************/
		

		if(Form_ID != "")
		{
		
			Forms_Fill();
		}
	
		event();

		txt_username.setRequired(true);
		psw_pass_2.setRequired(true);
		txt_name.setRequired(true);
		psw_pass_1.setRequired(true);
		txt_vorname.setRequired(true);
		ns_anrede.setRequired(true);
		txt_email.setRequired(true);

	}
	
	/*********************************/

	/*************************** Events *******************************/
	
private void event()
{
	
	btn_save.addClickListener(new ClickListener() {
		
		@Override
		public void buttonClick(ClickEvent event) {
			// TODO Automatisch generierter Methodenstub
			
			if(Validate_Test() == false)
			{
			I18nManager.global(I18nGlobalNotifiers.fields_empty);
				return;
			}
			
			
			String Pass = psw_pass_1.getValue();
			
		
			
			
			
			if(Form_ID.equals("")==true)
			{
				
				Forms_Insert();
				if(ck_psw_gen.getValue() == true)
				{
				MessageBox.showHTML(Icon.INFO, "Passwort", "Passwort: " + Pass, ButtonId.OK);
				}else{
				}
				
				
				
				
			}else
			{
				
				Forms_Update();
				if(ck_psw_gen.getValue() == true)
				{
				MessageBox.showHTML(Icon.INFO, "Passwort", "Passwort: " + Pass, ButtonId.OK);
				}else{
				}
			
			}
			
			
			
			if(ck_psw_send_per_email.getValue() == true)
			{
				
				Email_Schreiben(Pass);
				I18nManager.global(I18nGlobalNotifiers.mail_sent);
				
				
			}
			
		
		
			UI.getCurrent().getUI().removeWindow(win);
			
			
			
		}

		
	});
	
	ck_psw_gen.addValueChangeListener(new ValueChangeListener() {
		
		@Override
		public void valueChange(ValueChangeEvent event) {
			// TODO Automatisch generierter Methodenstub
			
			if(ck_psw_gen.getValue() == true)
			{
				Genpass();
			}else{
				psw_pass_1.setValue("");
				
				psw_pass_2.setValue("");
				cb_pass_aendern.setValue(false);
			}		
		}
	});
	
	
	
	
}	
	/******************************************************************/
	
private void Set_Grp(String UID)
{
	CMS_Config_Std std = CMS_Config_Std.getInstance();
	DBClass db = new DBClass();
	db.DB_Data_Insert.DB_Tabellen.DB_set_Tabelle_Einzeln("cms_auth_liste_gu");
	db.DB_Data_Insert.DB_Daten.DB_Data("cms_auth_liste_gu", "AL_U_ID", UID);
	db.DB_Data_Insert.DB_Daten.DB_Data("cms_auth_liste_gu", "AL_G_ID", G_ID);
	db.DB_Data_Insert.DB_Insert();
	
}

private void Genpass()
{
	RandomStringGenerator rnd = new RandomStringGenerator();
	
	String tmp = rnd.generateRandomString(rnd.TYPE_MIXED_CASE, 8);
	psw_pass_1.setValue((tmp));
	
	psw_pass_2.setValue((tmp));
	
	cb_pass_aendern.setValue(true);
	
	
	if(kompl(psw_pass_1.getValue()) == false)
	{
		Genpass();
	}
	

}
	

private boolean kompl(Object value)
{
	
	boolean back = true;
	
	if(std.Liste_pr == true)
	{
		if(Unerlaubte_Zeichenkette((String)value)==true)
		{
			back = false;
		}
		
	}
	if(std.Zahl_pr == true)
	{
		Pattern p = Pattern.compile("[0-9]");
		Matcher m = p.matcher(value.toString());
		if(m.find()) {

		} else {
			
			back = false;
		}
		
		
		
	}
	if(std.Char_pr == true)
	{
		Pattern p = Pattern.compile("[a-z]");
		Matcher m = p.matcher("12a3");
		if(m.find()) {
		
		} else {
			
			back = false;
		}
		
		
	}
	
	if(std.Grösse_pr == true)
	{
		Pattern p = Pattern.compile("[A-Z]");
		Matcher m = p.matcher(value.toString());
		if(m.find()) {
		
		} else {
			
			back = false;
		}
		
	}
	
	
	return back;
}

private boolean  Unerlaubte_Zeichenkette(String value)
{
	
	CMS_Config_Std std = CMS_Config_Std.getInstance();
	DBClass db = new DBClass();
	db.DB_Data_Get.DB_Spalten.Standard.DB_set_Spalten_All();
	db.DB_Data_Get.DB_Tabellen.DB_set_Tabelle_Einzeln("cms_validator_passwort_bad_list");
	db.DB_Data_Get.DB_Filter.DB_WHERE_LIKE("cms_validator_passwort_bad_list", "PBL_NAME", "'%"+value+"%'", "OR");
	db.DB_Data_Get.DB_Filter.DB_WHERE_LIKE("cms_validator_passwort_bad_list", "PBL_NAME", "'"+value+"%'", "OR");
	db.DB_Data_Get.DB_Filter.DB_WHERE_LIKE("cms_validator_passwort_bad_list", "PBL_NAME", "'%"+value+"'", "OR");
	db.DB_Data_Get.DB_Filter.DB_WHERE_LIKE("cms_validator_passwort_bad_list", "PBL_NAME", "'"+value+"'", "");
	
	Container con = db.DB_Data_Get.DB_SEND_AND_GET_Container();
	
	if(con.size() > 0)
	{
		return true;
	}else{
		return false;
	}
}
	/************************--> Berrechtigung <--**************************/
	
	public void Set_Berrechtigung_Database()
	{
		if(BER_MEN_ID =="")
		{
			System.out.println("Form Einstellung Fehlt: !!!");
			return;
		}
		
		ACC_ID = (int)UI.getCurrent().getSession().getSession().getAttribute("Userid");
		Rechteholen r = new Rechteholen(ACC_ID+"");
		String[][] Asan = r.Datenholen();

		for(int i = 0 ; i < Asan.length ;i++)
		{	
			if(Asan[i][0].equals(BER_MEN_ID)==true)
			{

				Lesen = Integer.valueOf(Asan[i][3]);
				
			    Schreiben = Integer.valueOf(Asan[i][4]);
				Erstellen = Integer.valueOf(Asan[i][6]);
				Löschen = Integer.valueOf(Asan[i][5]);
			}	
		}	
	}
	
	public void Set_Berrechtigung_Custom(int Arg_Lesen,int Arg_Erstellen,int Arg_Bearbeiten,int Arg_Loeschen)
	{
		Lesen = Arg_Lesen;
	    Schreiben = Arg_Erstellen;
		Erstellen = Arg_Erstellen;
		Edit= Arg_Bearbeiten;
		Löschen = Arg_Loeschen;
		
		if(Erstellen == 0 | Edit == 0)
		{
			btn_save.setEnabled(false);
			
		}

	}
	
	/**********************************************************************/
	
	
	
	
	/************************** Einstellen**************************************/
	private void Email_Schreiben(String Pass)
	{
	 
        TemplatingRenderer render = new TemplatingRenderer();
        render.loadTemplate("tpl_user_password");
	    
        Mailer mail = new Mailer(CMS_Config_Std.getInstance());
        mail.setSender("kundenservice@hah.de.com");
        mail.setSubject("Zugangsdaten für Serviceportal");
        mail.setType(MAIL_TYPE.HTML);
	    
        render.with("username", txt_username.getValue());
        render.with("password", Pass);
        
        
        log.info("sending mail for " + txt_email.getValue());
        mail.addRecipient(txt_email.getValue());
        mail.setContent(render.render());
        
        try {
            mail.send();
        } catch (IllegalStateException e) {
            log.warn("mail could not be sent for {}", txt_email.getValue());
        }
	}
	private String GET_Template()
	{
		DBClass db = new DBClass();
		db.DB_Data_Get.DB_Spalten.Standard.DB_set_Spalten_Einzeln("ELV_VORLAGE");
		db.DB_Data_Get.DB_Tabellen.DB_set_Tabelle_Einzeln("cms_email_liste_vorlage");
		db.DB_Data_Get.DB_Filter.DB_WHERE_Allgemein("cms_email_liste_vorlage", "ELV_ID", "=", "1", "");
		Container con = db.DB_Data_Get.DB_SEND_AND_GET_Container();
		
		String Narricht = "";
		for (Object ItemIda : con.getItemIds()) {
            //UserId = (int) result.getItem(ItemIda).getItemProperty(this.Spalte_ID)
              //     .getValue();
		
			Narricht = (String) con.getItem(ItemIda).getItemProperty("ELV_VORLAGE").getValue();
			
			
		
		}
		
		return Narricht;
	}
	/******************** Database*****************/
	private void Set_DB_Map()
	{
		DBMap = new HashMap<>();
		DBMap.put(txt_username,"cms_auth_stammdaten_user:AUL_USERNAME");
		DBMap.put(cb_aktiv,"cms_auth_stammdaten_user:AUL_AKTIV");
		DBMap.put(cb_pass_aendern,"cms_auth_stammdaten_user:AUL_PASS_RESET");
		DBMap.put(ns_anrede,"cms_auth_stammdaten_user:AUL_ANREDE_ID");
		DBMap.put(txt_name,"cms_auth_stammdaten_user:AUL_NAME");
		DBMap.put(txt_vorname,"cms_auth_stammdaten_user:AUL_VORNAME");
		DBMap.put(txt_tel,"cms_auth_stammdaten_user:AUL_TEL");
		DBMap.put(txt_email,"cms_auth_stammdaten_user:AUL_EMAIL");
	
	}

	private void Forms_Fill()
	{
		db = new DBClass();
		db.DB_Data_Get.DB_Spalten.Standard.DB_set_Spalten_All();
		
		/********************************Table ****************************************/
		db.DB_Data_Get.DB_Tabellen.DB_set_Tabelle_Einzeln("cms_auth_stammdaten_user");
		/******************************************************************************/
		/********************************Filter ****************************************/
		db.DB_Data_Get.DB_Filter.DB_WHERE_Allgemein("cms_auth_stammdaten_user", "AUL_ID", "=", Form_ID, "");
		/******************************************************************************/
	
		Container con = db.DB_Data_Get.DB_SEND_AND_GET_Container();
		fb = new Form_Bind();
			
				for (Object ItemIda : con.getItemIds()) {
		           fb.Get_and_Fill(con, DBMap);
				}
				
				psw_pass_1.setValue("*1Default1*");
				psw_pass_2.setValue("*1Default1*");	
	}
	private void Forms_Insert()
	{
		db = new DBClass();	
		fb = new Form_Bind();
		fb.Insert(db, DBMap);
		/********************************Table ****************************************/
		db.DB_Data_Insert.DB_Tabellen.DB_set_Tabelle_Einzeln("cms_auth_stammdaten_user");
		/******************************************************************************/
		db.DB_Data_Insert.DB_Daten.DB_Data("cms_auth_stammdaten_user", "AUL_PASSWORT", EncryptPass());
		Set_Grp(db.DB_Data_Insert.DB_Insert()+"");
	}
	private void Forms_Update()
	{
		db = new DBClass();	
		fb = new Form_Bind();
		fb.Update(db,DBMap);
		if(psw_pass_1.getValue().equals("*1Default1*")==false)
		{
			db.DB_Data_Update.DB_Daten.DB_Data("cms_auth_stammdaten_user", "AUL_PASSWORT", EncryptPass());
		}
		
		db.DB_Data_Update.DB_Tabellen.DB_set_Tabelle_Einzeln("cms_auth_stammdaten_user");
		db.DB_Data_Update.DB_Filter.DB_WHERE_Allgemein("cms_auth_stammdaten_user", "AUL_ID", "=", Form_ID, "");
		db.DB_Data_Update.DB_Update();
	}
	
	
	
	
	
	
	
	/***********************************************/
	
	
	/***********************-->Validierung<--********************/
	 private void Set_Validate_Map() 
		{ 
		ValidateMap = new HashMap<>(); 
		ValidateMap.put(txt_username,"");
		ValidateMap.put(txt_name,"");
		ValidateMap.put(txt_vorname,"");
		ValidateMap.put(ns_anrede,"");
		ValidateMap.put(psw_pass_1,"");
		ValidateMap.put(psw_pass_2,"");
		ValidateMap.put(txt_tel,"");
		ValidateMap.put(txt_email,"");

		
		
		} 
	private void Set_Validierer()
	{ 	if(Form_ID == "")
		{
		txt_username.addValidator(new Custom_Validator_Username());
		}
	
		txt_tel.addValidator(new Custom_Validator_tel());
		psw_pass_1.addValidator(new Custom_Benutzerform_psw_ändern(psw_pass_1,psw_pass_2));
		//psw_pass_2.addValidator(new Custom_Benutzerform_psw_ändern(psw_pass_1,psw_pass_2));
		txt_email.addValidator(new EmailValidator("Eingabe entspricht keiner Emailadresse !"));
	//psw_pass_1.addValidator(new Custom_Benutzerform_psw_ändern(psw_pass_1, psw_pass_2));
		
		psw_pass_2.addTextChangeListener( new TextChangeListener() {
			
			@Override
			public void textChange(TextChangeEvent event) {

				String et = event.getText();
				psw_pass_2.setValue(et);
				psw_pass_1.isValid();

			}
		} );
		
		
	
	 }
	private boolean Validate_Test()
	{
		val_checker4 val = new val_checker4(ValidateMap);
		if(val.Is_Valid() == false)
		{
			return false;
		}else
		{
			return true;
		}
		
	}	
	
	
	private void Anrede_holen()
	{
		CMS_Config_Std std = CMS_Config_Std.getInstance();
		
		DBClass db = new DBClass();
		db.DB_Data_Get.DB_Spalten.Standard.DB_set_Spalten_All();
		db.DB_Data_Get.DB_Tabellen.DB_set_Tabelle_Einzeln("cms_auth_stammdaten_anrede");
		
		nativecombo nc = new nativecombo(db.DB_Data_Get.DB_SEND_AND_GET(), ns_anrede, "ASA_ID", "ASA_NAME");
		ns_anrede.setInvalidAllowed(false);
		db.DB_Data_Get.connclose();
		
	}
	
	private String EncryptPass()
	{
		String newPass = null;
		
		
		try
	    {
			newPass = Crypt_SHA1.SHA512(txt_username.getValue()+psw_pass_1.getValue()+"6545465258552455554424");
	   
	     
	    }
	    catch (NoSuchAlgorithmException ex)
	    {
	        System.out.println(ex.getMessage());
	    }
	    catch (UnsupportedEncodingException ex)
	    {
	        System.out.println(ex.getMessage());
	    }	
		

	return newPass;
	}
	
	@AutoGenerated
	private VerticalLayout buildMainLayout() {
		// common part: create layout
		mainLayout = new VerticalLayout();
		mainLayout.setImmediate(false);
		mainLayout.setWidth("100%");
		mainLayout.setHeight("100%");
		mainLayout.setMargin(true);
		
		// top-level component properties
		setWidth("100.0%");
		setHeight("100.0%");
		
		// horizontalLayout_1
		horizontalLayout_1 = buildHorizontalLayout_1();
		mainLayout.addComponent(horizontalLayout_1);
		mainLayout.setExpandRatio(horizontalLayout_1, 2.0f);
		mainLayout.setComponentAlignment(horizontalLayout_1, new Alignment(20));
		
		// btn_save
		btn_save = new Button();
		btn_save.setCaption("Speichern");
		btn_save.setImmediate(true);
		btn_save.setWidth("-1px");
		btn_save.setHeight("-1px");
		mainLayout.addComponent(btn_save);
		mainLayout.setExpandRatio(btn_save, 0.3f);
		mainLayout.setComponentAlignment(btn_save, new Alignment(48));
		
		return mainLayout;
	}
	@AutoGenerated
	private HorizontalLayout buildHorizontalLayout_1() {
		// common part: create layout
		horizontalLayout_1 = new HorizontalLayout();
		horizontalLayout_1.setImmediate(false);
		horizontalLayout_1.setWidth("100.0%");
		horizontalLayout_1.setHeight("100.0%");
		horizontalLayout_1.setMargin(false);
		
		// verticalLayout_3
		verticalLayout_3 = buildVerticalLayout_3();
		horizontalLayout_1.addComponent(verticalLayout_3);
		horizontalLayout_1.setComponentAlignment(verticalLayout_3,
				new Alignment(20));
		
		// verticalLayout_4
		verticalLayout_4 = buildVerticalLayout_4();
		horizontalLayout_1.addComponent(verticalLayout_4);
		horizontalLayout_1.setComponentAlignment(verticalLayout_4,
				new Alignment(20));
		
		return horizontalLayout_1;
	}
	@AutoGenerated
	private VerticalLayout buildVerticalLayout_3() {
		// common part: create layout
		verticalLayout_3 = new VerticalLayout();
		verticalLayout_3.setImmediate(false);
		verticalLayout_3.setWidth("100.0%");
		verticalLayout_3.setHeight("100.0%");
		verticalLayout_3.setMargin(false);
		
		// pann_acc_daten
		pann_acc_daten = buildPann_acc_daten();
		verticalLayout_3.addComponent(pann_acc_daten);
		verticalLayout_3.setComponentAlignment(pann_acc_daten,
				new Alignment(48));
		
		return verticalLayout_3;
	}
	@AutoGenerated
	private Panel buildPann_acc_daten() {
		// common part: create layout
		pann_acc_daten = new Panel();
		pann_acc_daten.setCaption("Account Daten");
		pann_acc_daten.setImmediate(false);
		pann_acc_daten.setWidth("80.0%");
		pann_acc_daten.setHeight("90.0%");
		
		// verticalLayout_5
		verticalLayout_5 = buildVerticalLayout_5();
		pann_acc_daten.setContent(verticalLayout_5);
		
		return pann_acc_daten;
	}
	@AutoGenerated
	private VerticalLayout buildVerticalLayout_5() {
		// common part: create layout
		verticalLayout_5 = new VerticalLayout();
		verticalLayout_5.setImmediate(false);
		verticalLayout_5.setWidth("100.0%");
		verticalLayout_5.setHeight("100.0%");
		verticalLayout_5.setMargin(false);
		
		// txt_username
		txt_username = new TextField();
		txt_username.setCaption("Benutzername");
		txt_username.setImmediate(false);
		txt_username.setWidth("-1px");
		txt_username.setHeight("-1px");
		verticalLayout_5.addComponent(txt_username);
		verticalLayout_5.setComponentAlignment(txt_username, new Alignment(48));
		
		// psw_pass_1
		psw_pass_1 = new PasswordField();
		psw_pass_1.setCaption("Passwort");
		psw_pass_1.setImmediate(false);
		psw_pass_1.setWidth("-1px");
		psw_pass_1.setHeight("-1px");
		verticalLayout_5.addComponent(psw_pass_1);
		verticalLayout_5.setComponentAlignment(psw_pass_1, new Alignment(48));
		
		// psw_pass_2
		psw_pass_2 = new PasswordField();
		psw_pass_2.setCaption("Passwort Wiederholen");
		psw_pass_2.setImmediate(false);
		psw_pass_2.setWidth("-1px");
		psw_pass_2.setHeight("-1px");
		verticalLayout_5.addComponent(psw_pass_2);
		verticalLayout_5.setComponentAlignment(psw_pass_2, new Alignment(48));
		
		// ck_psw_gen
		ck_psw_gen = new CheckBox();
		ck_psw_gen.setCaption("Passwort Generieren");
		ck_psw_gen.setImmediate(false);
		ck_psw_gen.setWidth("-1px");
		ck_psw_gen.setHeight("-1px");
		verticalLayout_5.addComponent(ck_psw_gen);
		verticalLayout_5.setComponentAlignment(ck_psw_gen, new Alignment(48));
		
		// ck_psw_send_per_email
		ck_psw_send_per_email = new CheckBox();
		ck_psw_send_per_email.setCaption("Passwort  per Email senden");
		ck_psw_send_per_email.setImmediate(false);
		ck_psw_send_per_email.setWidth("-1px");
		ck_psw_send_per_email.setHeight("-1px");
		verticalLayout_5.addComponent(ck_psw_send_per_email);
		verticalLayout_5.setComponentAlignment(ck_psw_send_per_email,
				new Alignment(48));
		
		// cb_aktiv
		cb_aktiv = new CheckBox();
		cb_aktiv.setCaption("Benutzer aktiv");
		cb_aktiv.setImmediate(false);
		cb_aktiv.setWidth("-1px");
		cb_aktiv.setHeight("-1px");
		verticalLayout_5.addComponent(cb_aktiv);
		verticalLayout_5.setComponentAlignment(cb_aktiv, new Alignment(48));
		
		// cb_pass_aendern
		cb_pass_aendern = new CheckBox();
		cb_pass_aendern.setCaption("Passwort Ändern bei Anmeldung");
		cb_pass_aendern.setImmediate(false);
		cb_pass_aendern.setWidth("-1px");
		cb_pass_aendern.setHeight("-1px");
		verticalLayout_5.addComponent(cb_pass_aendern);
		verticalLayout_5.setComponentAlignment(cb_pass_aendern, new Alignment(
				48));
		
		return verticalLayout_5;
	}
	@AutoGenerated
	private VerticalLayout buildVerticalLayout_4() {
		// common part: create layout
		verticalLayout_4 = new VerticalLayout();
		verticalLayout_4.setImmediate(false);
		verticalLayout_4.setWidth("100.0%");
		verticalLayout_4.setHeight("100.0%");
		verticalLayout_4.setMargin(false);
		
		// pan_stamm_daten
		pan_stamm_daten = buildPan_stamm_daten();
		verticalLayout_4.addComponent(pan_stamm_daten);
		verticalLayout_4.setComponentAlignment(pan_stamm_daten, new Alignment(
				48));
		
		return verticalLayout_4;
	}
	@AutoGenerated
	private Panel buildPan_stamm_daten() {
		// common part: create layout
		pan_stamm_daten = new Panel();
		pan_stamm_daten.setCaption("Stammdaten");
		pan_stamm_daten.setImmediate(false);
		pan_stamm_daten.setWidth("80.0%");
		pan_stamm_daten.setHeight("90.0%");
		
		// verticalLayout_6
		verticalLayout_6 = buildVerticalLayout_6();
		pan_stamm_daten.setContent(verticalLayout_6);
		
		return pan_stamm_daten;
	}
	@AutoGenerated
	private VerticalLayout buildVerticalLayout_6() {
		// common part: create layout
		verticalLayout_6 = new VerticalLayout();
		verticalLayout_6.setImmediate(false);
		verticalLayout_6.setWidth("100.0%");
		verticalLayout_6.setHeight("100.0%");
		verticalLayout_6.setMargin(false);
		
		// ns_anrede
		ns_anrede = new NativeSelect();
		ns_anrede.setCaption("Anrede");
		ns_anrede.setImmediate(false);
		ns_anrede.setWidth("170px");
		ns_anrede.setHeight("-1px");
		verticalLayout_6.addComponent(ns_anrede);
		verticalLayout_6.setComponentAlignment(ns_anrede, new Alignment(48));
		
		// txt_name
		txt_name = new TextField();
		txt_name.setCaption("Name");
		txt_name.setImmediate(false);
		txt_name.setWidth("80.0%");
		txt_name.setHeight("-1px");
		verticalLayout_6.addComponent(txt_name);
		verticalLayout_6.setComponentAlignment(txt_name, new Alignment(48));
		
		// txt_vorname
		txt_vorname = new TextField();
		txt_vorname.setCaption("Vorname");
		txt_vorname.setImmediate(false);
		txt_vorname.setWidth("80.0%");
		txt_vorname.setHeight("-1px");
		verticalLayout_6.addComponent(txt_vorname);
		verticalLayout_6.setComponentAlignment(txt_vorname, new Alignment(48));
		
		// txt_tel
		txt_tel = new TextField();
		txt_tel.setCaption("Telefon");
		txt_tel.setImmediate(false);
		txt_tel.setWidth("80.0%");
		txt_tel.setHeight("-1px");
		verticalLayout_6.addComponent(txt_tel);
		verticalLayout_6.setComponentAlignment(txt_tel, new Alignment(48));
		
		// txt_email
		txt_email = new TextField();
		txt_email.setCaption("Email");
		txt_email.setImmediate(false);
		txt_email.setWidth("80.0%");
		txt_email.setHeight("-1px");
		verticalLayout_6.addComponent(txt_email);
		verticalLayout_6.setComponentAlignment(txt_email, new Alignment(48));
		
		return verticalLayout_6;
	}

}
