package archenoah.web.normal.main.Menuepunkte.Individuelle.Stammdaten.Organisationsverwaltung.form;

import java.util.HashMap;
import java.util.Map;
import java.util.Map.Entry;

import archenoah.lib.custom.ComponentIterator;
import archenoah.lib.custom.MyUtils;
import archenoah.lib.tool.comunication.dbclass.DBClass;
import archenoah.lib.tool.comunication.dbclass.DBClass.CustomQuery;
import archenoah.lib.vaadin.Components.Window_Tab_Generierer.Build_Tab_Menue_Item;
import archenoah.lib.vaadin.Components.Window_Tab_Generierer.Build_Window_Button;
import archenoah.lib.vaadin.Forms_Builder.Form_Bind;
import archenoah.lib.vaadin.Language.i18n.I18nCB;
import archenoah.lib.vaadin.Language.i18n.I18nManager;
import archenoah.lib.vaadin.MenuBerechtigung.Rechteholen;
import archenoah.web.normal.UserInfo.UserData;
import archenoah.web.normal.main.Menuepunkte.Individuelle.Projekte.Projektuebersicht.servicetasking.modules.ModuleComponent;

import com.vaadin.annotations.AutoGenerated;
import com.vaadin.data.Container;
import com.vaadin.data.Item;
import com.vaadin.server.ThemeResource;
import com.vaadin.shared.ui.combobox.FilteringMode;
import com.vaadin.ui.AbstractComponent;
import com.vaadin.ui.AbstractSelect.ItemCaptionMode;
import com.vaadin.ui.Alignment;
import com.vaadin.ui.Button;
import com.vaadin.ui.Button.ClickEvent;
import com.vaadin.ui.Button.ClickListener;
import com.vaadin.ui.ComboBox;
import com.vaadin.ui.CustomComponent;
import com.vaadin.ui.HorizontalLayout;
import com.vaadin.ui.MenuBar.MenuItem;
import com.vaadin.ui.Panel;
import com.vaadin.ui.TabSheet;
import com.vaadin.ui.TextField;
import com.vaadin.ui.UI;
import com.vaadin.ui.VerticalLayout;
import com.vaadin.ui.Window;

@SuppressWarnings({"serial", "rawtypes", "unchecked"})
public class OrganisationInsertEdit extends CustomComponent {

    /*- VaadinEditorProperties={"grid":"RegularGrid,20","showGrid":true,"snapToGrid":true,"snapToObject":true,"movingGuides":false,"snappingDistance":10} */

    @AutoGenerated
	private VerticalLayout mainLayout;

	@AutoGenerated
	private HorizontalLayout buttons;

	@AutoGenerated
	private Button btn_save;

	@AutoGenerated
	private HorizontalLayout main;

	@AutoGenerated
	private HorizontalLayout horizontalLayout_1;

	@AutoGenerated
	private VerticalLayout verticalLayout_3;

	@AutoGenerated
	private Panel pan_anschrift;

	@AutoGenerated
	private VerticalLayout verticalLayout_5;

	@AutoGenerated
	private ComboBox cmb_country;

	@AutoGenerated
	private TextField txt_ort;

	@AutoGenerated
	private TextField txt_plz;

	@AutoGenerated
	private TextField txt_zusatz;

	@AutoGenerated
	private TextField txt_strasse;

	@AutoGenerated
	private VerticalLayout verticalLayout_2;

	@AutoGenerated
	private Panel pan_erreichbarkeit;

	@AutoGenerated
	private VerticalLayout verticalLayout_6;

	@AutoGenerated
	private TextField txt_email;

	@AutoGenerated
	private TextField txt_fax;

	@AutoGenerated
	private TextField txt_telefon;

	@AutoGenerated
	private Panel pan_grunddaten;

	@AutoGenerated
	private VerticalLayout verticalLayout_4;

	@AutoGenerated
	private TextField txt_name;

	

	

	

	

	

	

	

	

	

	

	

	

	

	


    

    

    

    

    

    

    




	

	

    /**
     * The constructor should first build the main layout, set the composition
     * root and then do any custom initialization.
     * 
     * The constructor will not be automatically regenerated by the visual
     * editor.
     */

    /**************** --> Allgemein <--- ********************/
    // Allgemein
    org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(this.getClass());
    
    // Datenbank
    private Map<Object, String> componentMap;
//    private Map<Object, String> dbMap;
    private Map<Object, String> validateMap;
    private Form_Bind fb;
    private String dataSetId = "";

    
    // Berrechtigung
	private Integer permRead;
	private Integer permUpdate;
	private Integer permCreate;
	private Integer permDelete;

    private MenuItem tmpMenu = null;
    private Button tmpButton = null;
    /******************************************************/
    /**************** --> Tabsheetvars <--- *****************/
    private TabSheet tab = null;
    /******************************************************/
    /**************** --> Windowvars <--- *******************/
    private Window win = null;
    /******************************************************/
    /******************* --> Custom <--- ********************/
    /******************************************************/
    
    
    /************ ----->Einstellungen<-- ********************/
//    private final String formIdLng = "6011";
    private final String formIdPerm = "601";
    private final String Windows_Height = "500px";
    private final String Windows_Width = "750px";
    
    private final String dataIdCol = "OSL_ID";
    private final String dataTableName = "cust_organisation_stammdaten_liste";

    private HashMap<Object, String> dbMap;

    private Item dataSetItem;

    private ModuleComponent moduleComponent;
    
    private I18nManager i18n;

    private final static class caption extends I18nCB {
        static final I18nCB idFilter = set();
    }
    
    /******************************************************/

    public OrganisationInsertEdit(MenuItem Arg_Menü, String Arg_Form_ID) {
        tmpMenu = Arg_Menü;
        dataSetId = Arg_Form_ID;
    }

    public OrganisationInsertEdit(Button Arg_btn, String Arg_Form_ID) {
        tmpButton = Arg_btn;
        dataSetId = Arg_Form_ID;
    }

    /********* INIT-Window ************/
    public void init() {
        if (Windows_Height.equals("") == true || Windows_Width.equals("") == true) {
            System.out.println("Form Einstellung Fehlt: !!!");
            return;
        }

        Standard_Init();

        String fid = dataSetId;
        if (fid != "") {
            fid = " - #" + fid;
        }

        if (tmpMenu != null) {
        	
            String Recourcename = null;
            ThemeResource resource = null;
            if(tmpMenu.getIcon() != null){
            	Recourcename = tmpMenu.getIcon().toString();
            	Recourcename = Recourcename.substring(0, Recourcename.length() - 12) + "white-16.png";
            	resource = new ThemeResource(Recourcename);
            }

            Build_Window_Button bwb = new Build_Window_Button(tmpMenu.getText() + fid, mainLayout, Windows_Height, Windows_Width, resource);
            win = bwb.ReturnWindow();
        }
        if (tmpButton != null) {
            Build_Window_Button bwb = new Build_Window_Button(tmpButton.getCaption() + fid, mainLayout, Windows_Height, Windows_Width, tmpButton.getIcon());
            win = bwb.ReturnWindow();
        }

    }

    /********* INIT-Tray ************/
    public void init(TabSheet Arg_tab) {

        Standard_Init();
        tab = Arg_tab;
        if (tmpMenu != null) {
            new Build_Tab_Menue_Item(Arg_tab, tmpMenu.getText(), mainLayout, tmpMenu.getIcon());
        }
        if (tmpButton != null) {
            new Build_Tab_Menue_Item(Arg_tab, tmpButton.getCaption(), mainLayout, tmpButton.getIcon());
        }

    }
    
    public Window getWindow(){
    	return win;
    }
    
    public TabSheet getTabSheet(){
    	return tab;
    }
    
    /********* Init-Standard ************/
    private void Standard_Init() {
        buildMainLayout();
        i18n = new I18nManager(this);
        
        fb = new Form_Bind();
        
        registerComponents();

        configureComponents();
        
        fillCountry();
        fillDbMap();

//        setCustomValidators();
//        fillValidateMap();

        if (dataSetId != "") {
        	
            dbFillForm();

        } else {
            
        	//TASK "create init"
        	
        }
        
//        fillNurses();
        
        setMenuPermissions();

        
        setEventListeners();
//        fillLimit();
    }
    
//    private void fillLimit() {
//        limit = new ProjectLimits("SA", dataSetId, MyUtils.getValueFromItem(dataSetItem, "ST_ID_DELEGATION", Integer.class));
//        limit.setNurseSelect(nurse);
//        limit.setStatusSelect(status);
//        limit.setOriginalDate(MyUtils.getValueFromItem(dataSetItem, "ST_ORIGINAL_DATE", Date.class));
//        
//        String type = MyUtils.getValueFromItem(dataSetItem, "ST_TYPE", String.class);
//        if("servicetype_pharmacy".equals(type)) {
//            limit.setOriginalDateTooltip(date);
//        }else {
//            limit.limitDatePicker(date);
//        }
//    }
    
 // register components for lng and validation tools
    private void registerComponents(){
    	componentMap = new HashMap<Object, String>();
    	new ComponentIterator(main).createMap(componentMap);
    }
    
    
    private void configureComponents(){
    	
    	for (Entry<Object, String> entry : componentMap.entrySet()) {
    	    
    	    AbstractComponent field = (AbstractComponent) entry.getKey();
    		
			field.setImmediate(true);
			
			
			if(field instanceof ComboBox){
				((ComboBox)field).setFilteringMode(FilteringMode.CONTAINS);
			}
			
		}

    	cmb_country.setItemCaptionMode(ItemCaptionMode.PROPERTY);
    	cmb_country.setItemCaptionPropertyId("CC_TEXT");
    	
    }
//    
//    private void componentListeners(){
//        
//        patientInfo.addClickListener(new ClickListener() {
//
//            @Override
//            public void buttonClick(ClickEvent event) {
//                // TODO Automatisch generierter Methodenstub
//                if (patient.getValue() == null) {
//                    I18nManager.global(I18nGlobalNotifiers.no_entry_selected);
//
//                    return;
//                }
//
//                form_patient_insert_edit pie = new form_patient_insert_edit(event.getButton(), Integer.toString(MyUtils.getValueFromItem(dataSetItem, "PSL_ID", Integer.class)));
//                pie.Init_Class_Window();
//                pie.Set_Berrechtigung_Custom(1, 1, 1, 1);
//
//            }
//        });
//
//        nurseInfo.addClickListener(new ClickListener() {
//
//            @Override
//            public void buttonClick(ClickEvent event) {
//                // TODO Automatisch generierter Methodenstub
//                if (nurse.getValue() == null) {
//                    I18nManager.global(I18nGlobalNotifiers.no_entry_selected);
//
//                    return;
//                }
//
//                form_nurse_insert_edit pie = new form_nurse_insert_edit(event.getButton(), "" + nurse.getValue());
//                pie.Init_Class_Window();
//                pie.Set_Berrechtigung_Custom(1, 0, 0, 0);
//            }
//        });
//    	
//        nurse.addValueChangeListener(new ValueChangeListener() {
//            
//            @Override
//            public void valueChange(ValueChangeEvent event) {
//                
//                if(status.getValue().equals(2)) {
//                    status.setValue(1);
//                }
//                
//            }
//        });
//        
//        calcTime.addClickListener(new ClickListener() {
//
//            @Override
//            public void buttonClick(ClickEvent event) {
//
//                form_Berrechnen_Strecke fbs = new form_Berrechnen_Strecke(event.getButton());
//
//                if (MyUtils.getUserData().getNurse().isNurse()) {
//                    fbs.fieldDistance = nurseDistance;
//                    fbs.fieldDuration = nurseTime;
//                } else {
//                    fbs.fieldDistance = billingDistance;
//                    fbs.fieldDuration = billingTime;
//                }
//
//                if (nurse.getValue() != null) {
//                    fbs.Init_Class_Window((Integer) nurse.getValue());
//                } else {
//                    fbs.Init_Class_Window();
//                }
//
//                if (patient.getValue() != null) {
//                    fbs.Set_nach(MyUtils.getValueFromItem(dataSetItem, "PSL_ID", Integer.class));
//                }
//
//            }
//        });
//        
//        status.addValueChangeListener(new Property.ValueChangeListener() {
//            @Override
//            public void valueChange(ValueChangeEvent event) {
//               toggleOnStatusChange();
//            }
//        });
//        
//        ticketCreate.addClickListener(new ClickListener() {
//            
//            @Override
//            public void buttonClick(ClickEvent event) {
//                
//                CreateParams params = new CreateParams();
//                params.button = ticketCreate;
//                
//                Timestamp ts = MyUtils.getValueFromItem(dataSetItem, "ST_DATE", java.sql.Timestamp.class);
//                
//                if(ts != null) {
//                    params.shippingDate = new Date(ts.getTime());
//                    params.date = new Date(ts.getTime());
//                }
//                params.patientId = MyUtils.getValueFromItem(dataSetItem, "ST_ID_PATIENT", Integer.class);
//                params.country = MyUtils.getValueFromItem(dataSetItem, "PSL_COUNTYCODE", String.class);
//                
//                TicketDbActions dba = new TicketDbActions(); 
//                toggleTicketButtons(dba.createAndOpen(params));
//
//                
//            }
//        });
//        
//        ticketEdit.addClickListener(new ClickListener() {
//            
//            @Override
//            public void buttonClick(ClickEvent event) {
//                
//                if(ticketId == null) {
//                    return;
//                }
//                ticketEdit.setEnabled(false);
//                final OpenTicketsInsertEdit pie = new OpenTicketsInsertEdit(ticketEdit, ticketId.toString());
//                pie.setPermissionsFromDatabase();
//                pie.init();
//                pie.getWindow().addCloseListener(new CloseListener() {
//                    
//                    @Override
//                    public void windowClose(CloseEvent e) {
//                        ticketEdit.setEnabled(true);
//                        if(pie.wasDeleted()) {
//                            toggleTicketButtons(null);
//                        }
//                    }
//                });
//                
//            }
//        });
//    }
//    
//    private void toggleTicketButtons(Integer ticketId) {
//        
//        this.ticketId = ticketId;
//        dbUpdateTicket();
//        
//        Boolean hasTicket = ticketId != null;
//        ticketCreate.setVisible(!hasTicket);
//        ticketEdit.setVisible(hasTicket);
//    }
//    
//    private void toggleOnStatusChange() {
//        boolean required = false;
//        if (status.getValue() != null && (int) status.getValue() > 2) {
//            required = true;
//        }
//
//        nurseDistance.setRequired(required);
//        nurseTime.setRequired(required);
//
//        timeStart.setRequired(required);
//        timeEnd.setRequired(required);
//        
//        type.setRequired(required);
//    }
    
    /*************************** Events *******************************/

    private void setEventListeners() {

        btn_save.addClickListener(new ClickListener() {
			
			@Override
            public void buttonClick(ClickEvent event) {
				// TODO Auto-generated method stub
				
	          if(moduleComponent != null && !moduleComponent.validate()){
	              return;
	          }
	          
	          if (dataSetId.equals("") == true) {
	          	
	              dataSetId = Integer.toString(dbInsert());
	              
	          } else {
	          	
	              dbUpdate();
	
	          }
	          if(moduleComponent != null) {
	              moduleComponent.save(Integer.parseInt(dataSetId));
	          }

	          UI.getCurrent().getUI().removeWindow(win);
				
			}
		});
        
    }

    /******************************************************************/
    
    /************************ --> Berrechtigung <-- **************************/

    @SuppressWarnings("unused")
    public void setPermissionsFromDatabase() {
        if (formIdPerm == "") {
            System.out.println("Form Einstellung Fehlt: Berechtigung");
            return;
        }

        
        Rechteholen r = new Rechteholen(UserData.get().getUserId() + "");
        String[][] perms = r.Datenholen();
        
        System.out.println(perms);
        
        for (int i = 0; i < perms.length; i++) {
            if (perms[i][0].equals(formIdPerm) == true) {

                permRead = Integer.valueOf(perms[i][3]);
                permUpdate = Integer.valueOf(perms[i][4]);
                permCreate = Integer.valueOf(perms[i][6]);
                permDelete = Integer.valueOf(perms[i][5]);
                
            }
        }
    }

    public void setPermissions(int create, int read, int update, int delete) {

        permCreate = create;
        permRead = read;
        permUpdate = update;
        permDelete = delete;

    }

    private void setMenuPermissions() {
        Boolean c = (permCreate == 1);
        Boolean r = (permRead == 1);
        Boolean u = (permUpdate == 1);
        Boolean d = (permDelete == 1);
        
        btn_save.setEnabled(c||u);
//        ticketCreate.setEnabled(!nurse && c);
//        ticketEdit.setEnabled(!nurse && u);

    }
    
    /***********************************************/
    
    
    private void fillCountry() {

    	CustomQuery q = new DBClass().CustomQuery;

        String sql = "select CC_CODE, CC_TEXT from cust_countrycodes"
                     + "\n "+ "where CC_LNG = 1";
        q.setSqlString(sql);

        
		Container con = q.query();
		
		cmb_country.addContainerProperty("CC_TEXT", String.class, "");
		
		for (Object iid : con.getItemIds()) {
			
			Item item = con.getItem(iid);
			String value = MyUtils.getValueFromItem(item, "CC_CODE", String.class);
			String name = MyUtils.getValueFromItem(item, "CC_TEXT", String.class);
			
			System.out.println(value + " Value");
			System.out.println(name + " Name");
			
			//cmb_country.addItem(value).getItemProperty("CC_TEXT").setValue(name);
			cmb_country.addItem(value).getItemProperty("CC_TEXT").setValue(name);
		}
    	
        
    }

    /******************** Database *****************/
    private void fillDbMap() {
        
        String table = dataTableName + ":";
        
        dbMap = new HashMap<>();
        
        dbMap.put(txt_name, table + "OSL_NAME");
        dbMap.put(txt_telefon, table + "OSL_TEL");
        dbMap.put(txt_fax, table + "OSL_FAX");
        dbMap.put(txt_email, table + "OSL_EMAIL");
        dbMap.put(txt_strasse, table + "OSL_STRASSE");
        dbMap.put(txt_zusatz, table + "OSL_ZUSATZ");
        dbMap.put(txt_plz, table + "OSL_PLZ");
        dbMap.put(txt_ort, table + "OSL_ORT");
        dbMap.put(cmb_country, table + "OSL_COUNTRYCODE");
        
        
    }

    private void dbFillForm() {
       
    	System.out.println(dataSetId);
    	
        CustomQuery q = new DBClass().CustomQuery;
        String sql = "SELECT "
         + "\n " + "*"
//         + "\n " + "    , PSL_ID"
//         //+ "\n " + "    , CONCAT(PSL_NAME, ', ', PSL_VORNAME, ', ', PSA_NAME) as patient"
//         //+ "\n " + "    , STMS_PAT_INITIALS as initials"
//         + "\n " + "    , VH_PROJEKT_ID"
//         //+ "\n " + "    , PSLV_NAME as project"
//         + "\n " + "    , PSL_COUNTYCODE" // ticketCreator
//         + "\n " + "    , OMT_ID" // ticketEdit
         + "\n " + "FROM cust_organisation_stammdaten_liste"
//         + "\n " + "left join cust_verk_haupt on ST_VH_ID = VH_ID"
//         + "\n " + "left join cust_protokoll_servicetasking_meta_static on ST_VH_ID = STMS_VH_ID"
//         + "\n " + ""
//         + "\n " + "left join cust_projekte_stammdaten_liste on VH_PROJEKT_ID = PSLV_ID"
//         + "\n " + "left join cust_patient_stammdaten_liste on ST_ID_PATIENT = PSL_ID"
//         + "\n " + "left join cust_patient_stammdaten_anrede on PSL_ANREDE = PSA_ID"
//         + "\n " + "left join cust_ordermanager_tickets on ST_ID_TICKET = OMT_ID"
         + "\n " + "WHERE OSL_ID = " + dataSetId;

//        q.db.debugNextQuery(true);
        q.setSqlString(sql);
        
        Container con = q.query();
        
        if(con.size() > 0) {
            
            fb = new Form_Bind();
            fb.Get_and_Fill(con, dbMap);
            
            dataSetItem = MyUtils.getFirstItemFromContainer(con);
            
        }
        
    }

    private int dbInsert() {
        DBClass db = new DBClass();
        
        fb = new Form_Bind();
        fb.Insert(db, dbMap);
        
        db.DB_Data_Insert.DB_Tabellen.DB_set_Tabelle_Einzeln(dataTableName);
        db.DB_Data_Insert.DB_Daten.DB_Data(dataTableName, "OSL_ID", null);
        
        // dba.DB_Data_Insert.DB_DEBUG_SQL_STRING();
        return db.DB_Data_Insert.DB_Insert();
    }

    private void dbUpdate() {
    	
    	System.out.println(cmb_country.getValue());
    	
    	System.out.println(dataIdCol);
    	
        DBClass db = new DBClass();
        fb = new Form_Bind();
        fb.Update(db, dbMap);
        
        db.DB_Data_Update.DB_Tabellen.DB_set_Tabelle_Einzeln(dataTableName);
        db.DB_Data_Update.DB_Filter.DB_WHERE_Allgemein(dataTableName, dataIdCol, "=", dataSetId, "");
//        db.DB_Data_Update.DB_Daten.DB_Data(dataTableName, "OSL_ID", ticketId != null ? ticketId.toString() : null);
        
        db.DB_Data_Update.DB_Update();

    }
    
//    /*********************** -->Validierung<-- ********************/
//    private void fillValidateMap() {
//        validateMap = new HashMap<>();
//        validateMap.putAll(componentMap);
//        
////        ValidateMap.put(component, "component"); // should not be needed
//
//    }
//
//    private void setCustomValidators() {
//
//        // psw_pass_1.addValidator(new Custom_Benutzerform_psw_ändern(psw_pass_1, psw_pass_2));
//
//        /******* manual actions *******/
//
//    }
//
//    private boolean validate() {
//        val_checker4 val = new val_checker4(validateMap);
//        if (val.Is_Valid() == false) {
//            return false;
//        } else {
//            return true;
//        }
//
//    }

    @AutoGenerated
	private VerticalLayout buildMainLayout() {
		// common part: create layout
		mainLayout = new VerticalLayout();
		mainLayout.setStyleName("cust_margin_half_full_none_full");
		mainLayout.setImmediate(false);
		mainLayout.setWidth("100%");
		mainLayout.setHeight("100%");
		mainLayout.setMargin(false);
		
		// top-level component properties
		setWidth("100.0%");
		setHeight("100.0%");
		
		// main
		main = buildMain();
		mainLayout.addComponent(main);
		mainLayout.setExpandRatio(main, 1.0f);
		
		// buttons
		buttons = buildButtons();
		mainLayout.addComponent(buttons);
		mainLayout.setComponentAlignment(buttons, new Alignment(48));
		
		return mainLayout;
	}

	@AutoGenerated
	private HorizontalLayout buildMain() {
		// common part: create layout
		main = new HorizontalLayout();
		main.setImmediate(false);
		main.setWidth("100.0%");
		main.setHeight("100.0%");
		main.setMargin(false);
		
		// horizontalLayout_1
		horizontalLayout_1 = buildHorizontalLayout_1();
		main.addComponent(horizontalLayout_1);
		
		return main;
	}

	@AutoGenerated
	private HorizontalLayout buildHorizontalLayout_1() {
		// common part: create layout
		horizontalLayout_1 = new HorizontalLayout();
		horizontalLayout_1.setImmediate(false);
		horizontalLayout_1.setWidth("100.0%");
		horizontalLayout_1.setHeight("100.0%");
		horizontalLayout_1.setMargin(true);
		horizontalLayout_1.setSpacing(true);
		
		// verticalLayout_2
		verticalLayout_2 = buildVerticalLayout_2();
		horizontalLayout_1.addComponent(verticalLayout_2);
		
		// verticalLayout_3
		verticalLayout_3 = buildVerticalLayout_3();
		horizontalLayout_1.addComponent(verticalLayout_3);
		
		return horizontalLayout_1;
	}

	@AutoGenerated
	private VerticalLayout buildVerticalLayout_2() {
		// common part: create layout
		verticalLayout_2 = new VerticalLayout();
		verticalLayout_2.setImmediate(false);
		verticalLayout_2.setWidth("100.0%");
		verticalLayout_2.setHeight("100.0%");
		verticalLayout_2.setMargin(false);
		
		// pan_grunddaten
		pan_grunddaten = buildPan_grunddaten();
		verticalLayout_2.addComponent(pan_grunddaten);
		verticalLayout_2.setExpandRatio(pan_grunddaten, 1.0f);
		
		// pan_erreichbarkeit
		pan_erreichbarkeit = buildPan_erreichbarkeit();
		verticalLayout_2.addComponent(pan_erreichbarkeit);
		verticalLayout_2.setExpandRatio(pan_erreichbarkeit, 3.0f);
		
		return verticalLayout_2;
	}

	@AutoGenerated
	private Panel buildPan_grunddaten() {
		// common part: create layout
		pan_grunddaten = new Panel();
		pan_grunddaten.setCaption("Grunddaten");
		pan_grunddaten.setImmediate(false);
		pan_grunddaten.setWidth("100.0%");
		pan_grunddaten.setHeight("100.0%");
		
		// verticalLayout_4
		verticalLayout_4 = buildVerticalLayout_4();
		pan_grunddaten.setContent(verticalLayout_4);
		
		return pan_grunddaten;
	}

	@AutoGenerated
	private VerticalLayout buildVerticalLayout_4() {
		// common part: create layout
		verticalLayout_4 = new VerticalLayout();
		verticalLayout_4.setImmediate(false);
		verticalLayout_4.setWidth("100.0%");
		verticalLayout_4.setHeight("100.0%");
		verticalLayout_4.setMargin(true);
		
		// txt_name
		txt_name = new TextField();
		txt_name.setCaption("Name");
		txt_name.setImmediate(false);
		txt_name.setWidth("100.0%");
		txt_name.setHeight("-1px");
		verticalLayout_4.addComponent(txt_name);
		verticalLayout_4.setComponentAlignment(txt_name, new Alignment(20));
		
		return verticalLayout_4;
	}

	@AutoGenerated
	private Panel buildPan_erreichbarkeit() {
		// common part: create layout
		pan_erreichbarkeit = new Panel();
		pan_erreichbarkeit.setCaption("Erreichbarkeit");
		pan_erreichbarkeit.setImmediate(false);
		pan_erreichbarkeit.setWidth("100.0%");
		pan_erreichbarkeit.setHeight("100.0%");
		
		// verticalLayout_6
		verticalLayout_6 = buildVerticalLayout_6();
		pan_erreichbarkeit.setContent(verticalLayout_6);
		
		return pan_erreichbarkeit;
	}

	@AutoGenerated
	private VerticalLayout buildVerticalLayout_6() {
		// common part: create layout
		verticalLayout_6 = new VerticalLayout();
		verticalLayout_6.setImmediate(false);
		verticalLayout_6.setWidth("100.0%");
		verticalLayout_6.setHeight("100.0%");
		verticalLayout_6.setMargin(true);
		
		// txt_telefon
		txt_telefon = new TextField();
		txt_telefon.setCaption("Telefon");
		txt_telefon.setImmediate(false);
		txt_telefon.setWidth("-1px");
		txt_telefon.setHeight("-1px");
		verticalLayout_6.addComponent(txt_telefon);
		verticalLayout_6.setComponentAlignment(txt_telefon, new Alignment(20));
		
		// txt_fax
		txt_fax = new TextField();
		txt_fax.setCaption("Fax");
		txt_fax.setImmediate(false);
		txt_fax.setWidth("-1px");
		txt_fax.setHeight("-1px");
		verticalLayout_6.addComponent(txt_fax);
		verticalLayout_6.setComponentAlignment(txt_fax, new Alignment(20));
		
		// txt_email
		txt_email = new TextField();
		txt_email.setCaption("Email");
		txt_email.setImmediate(false);
		txt_email.setWidth("-1px");
		txt_email.setHeight("-1px");
		verticalLayout_6.addComponent(txt_email);
		verticalLayout_6.setComponentAlignment(txt_email, new Alignment(20));
		
		return verticalLayout_6;
	}

	@AutoGenerated
	private VerticalLayout buildVerticalLayout_3() {
		// common part: create layout
		verticalLayout_3 = new VerticalLayout();
		verticalLayout_3.setImmediate(false);
		verticalLayout_3.setWidth("100.0%");
		verticalLayout_3.setHeight("100.0%");
		verticalLayout_3.setMargin(false);
		
		// pan_anschrift
		pan_anschrift = buildPan_anschrift();
		verticalLayout_3.addComponent(pan_anschrift);
		
		return verticalLayout_3;
	}

	@AutoGenerated
	private Panel buildPan_anschrift() {
		// common part: create layout
		pan_anschrift = new Panel();
		pan_anschrift.setCaption("Anschrift");
		pan_anschrift.setImmediate(false);
		pan_anschrift.setWidth("100.0%");
		pan_anschrift.setHeight("100.0%");
		
		// verticalLayout_5
		verticalLayout_5 = buildVerticalLayout_5();
		pan_anschrift.setContent(verticalLayout_5);
		
		return pan_anschrift;
	}

	@AutoGenerated
	private VerticalLayout buildVerticalLayout_5() {
		// common part: create layout
		verticalLayout_5 = new VerticalLayout();
		verticalLayout_5.setImmediate(false);
		verticalLayout_5.setWidth("100.0%");
		verticalLayout_5.setHeight("100.0%");
		verticalLayout_5.setMargin(true);
		
		// txt_strasse
		txt_strasse = new TextField();
		txt_strasse.setCaption("Strasse");
		txt_strasse.setImmediate(false);
		txt_strasse.setWidth("-1px");
		txt_strasse.setHeight("-1px");
		verticalLayout_5.addComponent(txt_strasse);
		verticalLayout_5.setComponentAlignment(txt_strasse, new Alignment(20));
		
		// txt_zusatz
		txt_zusatz = new TextField();
		txt_zusatz.setCaption("Zusatz");
		txt_zusatz.setImmediate(false);
		txt_zusatz.setWidth("-1px");
		txt_zusatz.setHeight("-1px");
		verticalLayout_5.addComponent(txt_zusatz);
		verticalLayout_5.setComponentAlignment(txt_zusatz, new Alignment(20));
		
		// txt_plz
		txt_plz = new TextField();
		txt_plz.setCaption("PLZ");
		txt_plz.setImmediate(false);
		txt_plz.setWidth("-1px");
		txt_plz.setHeight("-1px");
		verticalLayout_5.addComponent(txt_plz);
		verticalLayout_5.setComponentAlignment(txt_plz, new Alignment(20));
		
		// txt_ort
		txt_ort = new TextField();
		txt_ort.setCaption("Ort");
		txt_ort.setImmediate(false);
		txt_ort.setWidth("-1px");
		txt_ort.setHeight("-1px");
		verticalLayout_5.addComponent(txt_ort);
		verticalLayout_5.setComponentAlignment(txt_ort, new Alignment(20));
		
		// cmb_country
		cmb_country = new ComboBox();
		cmb_country.setCaption("Land");
		cmb_country.setImmediate(false);
		cmb_country.setWidth("-1px");
		cmb_country.setHeight("-1px");
		verticalLayout_5.addComponent(cmb_country);
		verticalLayout_5.setComponentAlignment(cmb_country, new Alignment(20));
		
		return verticalLayout_5;
	}

	@AutoGenerated
	private HorizontalLayout buildButtons() {
		// common part: create layout
		buttons = new HorizontalLayout();
		buttons.setImmediate(false);
		buttons.setWidth("100.0%");
		buttons.setHeight("-1px");
		buttons.setMargin(true);
		
		// btn_save
		btn_save = new Button();
		btn_save.setCaption("Speichern");
		btn_save.setImmediate(true);
		btn_save.setWidth("-1px");
		btn_save.setHeight("-1px");
		buttons.addComponent(btn_save);
		buttons.setComponentAlignment(btn_save, new Alignment(48));
		
		return buttons;
	}

}
